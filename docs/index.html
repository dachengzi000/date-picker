<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <title>实战：手机日历组件</title>
  <meta name="keywords" content="前端,组件,webpack,babel,stylus,gulp">
  <meta name="description" content="我已经在 SegmentFault 上开设四个话题，都是针对特定知识点进行讲解，我觉得是时候来场完整项目实战了！这次选择讲解开发一个主攻移动设备网页的日历选择控件，重点在于完整重现整个开发过程。学完整个课程的同学可以对现代化前端开发有更全面的理解。">
  <meta name="author" content="Meathill <meathill@gmail.com>">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="//cdn.staticfile.org/reveal.js/3.4.1/css/reveal.min.css">
  <link rel="stylesheet" href="//cdn.staticfile.org/reveal.js/3.4.1/css/theme/moon.min.css">
  <link rel="stylesheet" href="//cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/darcula.min.css">
  <link rel="stylesheet" href="//meathill-lecture.github.io/box-flex-grid/css/meathill-reveal-theme.min.css">
  <link href="//fonts.lug.ustc.edu.cn/css?family=Source+Code+Pro" rel="stylesheet">
  <link rel="stylesheet" href="./css/screen.css">
</head>
<body>
<div class="reveal">
  <div class="slides">
    <section><h2 id="-">实战</h2><h1 id="-">手机日历组件</h1><h4 id="-meathill-https-weibo-com-meathill-"><a href="https://weibo.com/meathill/">@meathill</a></h4></section><section><section><h2>关于作者</h2></section><section><p><img src="http://qiniu.meathill.com/wp-content/uploads/2016/07/20160607_005422423_iOS-825x510.jpg" height="400" class="author-avatar"></p><p>大家好，我是翟路佳。全栈工程师，编程爱好者。</p></section><section><p>经常出没于：</p><ul><li><a href="http://blog.meathill.com">博客：http://blog.meathill.com</a></li><li><a href="http://weibo.com/meathill">微博：https://weibo.com/meathill/</a></li></ul></section></section><section><h2 id="-">教学目标</h2><p>通过学习本系列教程，可以了解现代化前端开发的方方面面：</p><ol><li>学会搭建开发环境，使用 Webpack、Babel、Stylus、Gulp 等工具</li><li>了解测试驱动开发，学会写测试用例、自动化测试</li><li>学会打包发布代码</li><li>学会用 GitHub Pages 维护产品文档</li><li>学会写类似的组件</li></ol></section><section><section><h2 id="-">课程大纲</h2><ol><li>项目启动 &amp; 需求分析</li><li>npm &amp; package.json</li><li>Stylus</li><li>静态 HTML 开发</li></ol></section><section><ol><li>Webpack + Babel 配置</li><li>使用 ES6 开发 JavaScript</li><li>使用 Mocha + should.js 测试</li></ol></section><section><ol><li>使用 Handlebars 处理模板</li><li>完成 UI 开发和测试</li><li>使用策略模式解决分支需求</li></ol></section><section><ol><li>Gulp 打包</li><li>配置 Webpack 适应不同环境的打包</li><li>使用 Weinre 解决微信下的问题</li></ol></section><section><ol><li>使用 GitHub Pages 搭建文档网站</li><li>回顾，总结</li></ol></section></section><section><h2 id="-">第一讲</h2><ol><li>项目启动 &amp; 需求分析</li><li>NPM &amp; package.json</li><li>Stylus</li><li>开发静态 HTML</li></ol></section><section><section><h2 id="-">需求分析</h2></section><section><div class="row"><div class="col"><img src="./img/sample.png" alt="例子"></div><div class="col" markdown="1"><ol><li>开发一个日历控件</li><li>主要在手机浏览器中使用，包括公众号</li><li>点击日期输入框，弹出控件，选择日期，收起控件</li><li>尽量独立，少依赖，少引入框架</li><li>样式如图</li></ol></div></div></section><section><h3 id="-">通用规则</h3><ol><li>今日用黄点标记</li><li>不可选的日期为灰色</li><li>打开关闭都需要动画</li><li>周末用橙色标记</li><li>可以指定某个日期为橙色（端午节、清明节等）</li><li>向上滚屏可以自动增加下个月</li><li>可以用参数配置</li></ol></section><section><h3 id="-">选择单日</h3><ol><li>点击日期视为选中</li><li>点击同一日期视为取消</li><li>点击其它日期视为多选</li><li>若自动提交，点够数量就提交</li><li>不自动提交，右上角有提交按钮，点击后提交</li></ol></section><section><h3 id="-">选择多日</h3><ol><li>第一次点击时，视为选择时间段的一端，第二次点击为选择另一端</li><li>允许用户先选择终点，再选择起点</li><li>若自动提交，第二次点击后，控件伴随着动画关闭</li><li>不自动提交，第三次点击会清空之前的选择，并重新选择起点</li></ol></section></section><section><section><h2 id="-">技术选型</h2><ol><li>开发效率</li><li>使用效率</li><li>维护成本</li></ol></section><section><h3 id="jquery">jQuery</h3><ol><li>事件代理</li><li>创建 DOM</li><li>简单的 DOM 操作</li></ol></section><section><h3 id="-handlebars">模板引擎 Handlebars</h3><ol><li>预编译</li><li>比较熟</li></ol></section><section><h3 id="stylus-css">Stylus -&gt; CSS</h3><ol><li>使用预处理工具，方便开发</li><li>简单方便快捷，基于 Node.js</li><li>支持变量、函数、循环</li><li>丰富的内建函数</li></ol></section><section><h3 id="-">语言</h3><ol><li>ES6 Class</li><li>Webpack + Babel</li><li>完整的测试用例</li></ol></section><section><h3 id="-">提交物料</h3><ol><li>最终文件 CSS、JS 各一个</li><li>源代码</li><li>使用文档</li></ol></section></section><section><h2 id="-">这套方案的优势</h2><ol><li>使用比较简单，嵌入资源文件即可</li><li>使用 jQuery，前后兼容性好，对方容易接手</li><li>源代码保持最大的弹性，方便扩展开发</li></ol></section><section><section><h2 id="-">工作流程</h2><ol><li>将事件绑定在 <code>&lt;body&gt;</code> 上</li><li>配置信息使用 <code>data-*</code> 写在 <code>&lt;input&gt;</code> 上</li><li>用户点击 <code>input[type=text].tqb-date-picker</code> 后<ol><li>如果此文本框尚无日历元素</li><li>则生成一个元素并绑定</li></ol></li><li>弹出日历窗口</li><li>用户点击后选中日期</li></ol></section><section><p><img src="./img/flow.svg" alt="日历组件流程图"></p></section></section><section><h2 id="-">开工！！</h2></section><section><h2 id="0-">0. 准备阶段</h2><ol><li>安装 node.js</li><li>安装 Stylus</li></ol></section><section><section><h2 id="1-">1. 初始化项目</h2></section><section><h3 id="npm">NPM</h3><p>Node Package Manager = Node 包管理工具</p><ol><li>管理依赖</li><li>发布我们自己的包</li><li>记录常用脚本</li></ol></section><section><h3 id="package-json">package.json</h3><p>此项目的配置信息，可被 NPM 读取。</p><ol><li>版本、内容、作者等描述</li><li>依赖：运行时依赖 &amp; 开发时依赖</li><li>可执行脚本</li></ol></section></section><section><h2 id="2-stylus">2. 配置 Stylus</h2></section><section><h3 id="3-html">3. 开发静态 HTML</h3></section><section><p>Q&amp;A</p></section><section><p>完整项目代码仓库：</p><ul><li><a href="https://github.com/meathill-freelance/date-picker">Github meathill-freelance/date-picker</a></li><li><a href="https://meathill-freelance.github.io/data-picker/">线上文档</a></li></ul></section><section><p>参考阅读：</p><ul><li><a href="https://docs.npmjs.com/getting-started/using-a-package.json">Using a package.json</a></li><li><a href="http://stylus-lang.com/">Stylus</a></li><li><a href="http://es6.ruanyifeng.com">ES6</a></li></ul></section><section><h2 id="-">第二讲</h2></section>
  </div>
</div>
<script src="//cdn.staticfile.org/reveal.js/3.4.1/lib/js/head.min.js"></script>
<script src="//cdn.staticfile.org/reveal.js/3.4.1/js/reveal.min.js"></script>
<script src="./app/main.js"></script>
</body>
</html>